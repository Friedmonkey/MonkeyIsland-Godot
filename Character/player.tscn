[gd_scene load_steps=42 format=3 uid="uid://drenu2srr1q61"]

[ext_resource type="Script" uid="uid://uby0stqpkrd4" path="res://Character/player.gd" id="1_hqtel"]
[ext_resource type="PackedScene" uid="uid://dxnwbn3vqjhme" path="res://Character/character.tscn" id="1_i3pqv"]
[ext_resource type="Script" uid="uid://dbwpdvt46lvhx" path="res://Player/movement_controller.gd" id="2_hqtel"]
[ext_resource type="AudioStream" uid="uid://4uejpyfgvbvb" path="res://Player/Sounds/jump_000.ogg" id="3_331ug"]
[ext_resource type="AudioStream" uid="uid://dsqa02vl5r3pe" path="res://Models/TerrainAssets/Sounds/footstep_grass_000.ogg" id="3_606se"]
[ext_resource type="AudioStream" uid="uid://bpuiheyhw57nl" path="res://Player/Sounds/punch_000.ogg" id="3_pgbbb"]
[ext_resource type="Script" uid="uid://bsp1f3vpcgvsx" path="res://Player/camera_controller.gd" id="3_sweqy"]
[ext_resource type="AudioStream" uid="uid://cnyelwh785m4" path="res://Player/Sounds/punch_001.ogg" id="4_331ug"]
[ext_resource type="AudioStream" uid="uid://di0grnb3gdfs7" path="res://Models/TerrainAssets/Sounds/footstep_grass_001.ogg" id="4_u1c27"]
[ext_resource type="AudioStream" uid="uid://cmjbmy82877rv" path="res://Player/Sounds/punch_002.ogg" id="5_ny14h"]
[ext_resource type="AudioStream" uid="uid://dpxmbuwa203s3" path="res://Models/TerrainAssets/Sounds/footstep_grass_002.ogg" id="5_op7ga"]
[ext_resource type="AudioStream" uid="uid://ba7nrhubnfdlp" path="res://Player/Sounds/punch_003.ogg" id="6_ibah8"]
[ext_resource type="AudioStream" uid="uid://by1tulnhl3cu8" path="res://Models/TerrainAssets/Sounds/footstep_grass_003.ogg" id="6_q13i1"]
[ext_resource type="AudioStream" uid="uid://0degotd2qq62" path="res://Models/TerrainAssets/Sounds/footstep_grass_004.ogg" id="7_pylmc"]
[ext_resource type="AudioStream" uid="uid://blcrp4yiuqsbm" path="res://Models/TerrainAssets/Sounds/impactMining_000.ogg" id="8_5tmop"]
[ext_resource type="Resource" uid="uid://ilxft0txduu2" path="res://Player/MovementStates/run.tres" id="8_pbfsw"]
[ext_resource type="Resource" uid="uid://orrjibpllpgs" path="res://Player/MovementStates/sprint.tres" id="9_5tmop"]
[ext_resource type="AudioStream" uid="uid://bkkks80f44t4c" path="res://Models/TerrainAssets/Sounds/impactMining_001.ogg" id="9_7ahtn"]
[ext_resource type="Resource" uid="uid://fvq8xi66kxov" path="res://Player/MovementStates/stand.tres" id="10_7ahtn"]
[ext_resource type="AudioStream" uid="uid://b5wmj52a4el6h" path="res://Models/TerrainAssets/Sounds/impactMining_002.ogg" id="10_7lmhl"]
[ext_resource type="Resource" uid="uid://c0aaanr84ak8r" path="res://Player/MovementStates/walk.tres" id="11_7lmhl"]
[ext_resource type="AudioStream" uid="uid://7spdhdgjodck" path="res://Models/TerrainAssets/Sounds/impactMining_003.ogg" id="11_dx0e4"]
[ext_resource type="Resource" uid="uid://c1ivhxsl0ari0" path="res://Player/JumpStates/air_jump.tres" id="12_dx0e4"]
[ext_resource type="AudioStream" uid="uid://bddt17bxj83ky" path="res://Models/TerrainAssets/Sounds/impactMining_004.ogg" id="12_jm5j8"]
[ext_resource type="AudioStream" uid="uid://c6pb1benvb1qh" path="res://Models/TerrainAssets/Sounds/footstep_carpet_000.ogg" id="13_7hik5"]
[ext_resource type="Resource" uid="uid://s4tjcrrseqcn" path="res://Player/JumpStates/ground_jump.tres" id="13_jm5j8"]
[ext_resource type="AudioStream" uid="uid://btjf1o37guvm7" path="res://Models/TerrainAssets/Sounds/footstep_carpet_001.ogg" id="14_qtqh7"]
[ext_resource type="AudioStream" uid="uid://dhdkga2768fne" path="res://Models/TerrainAssets/Sounds/footstep_carpet_002.ogg" id="15_2wuci"]
[ext_resource type="AudioStream" uid="uid://dtqaa5h1iamjq" path="res://Models/TerrainAssets/Sounds/footstep_carpet_003.ogg" id="16_iruf7"]
[ext_resource type="AudioStream" uid="uid://c4n2d6efnm4qw" path="res://Models/TerrainAssets/Sounds/footstep_carpet_004.ogg" id="17_j5n4i"]
[ext_resource type="AudioStream" uid="uid://cgbec3thoh4ga" path="res://Models/TerrainAssets/Sounds/footstep_water_000.ogg" id="18_hl5qd"]
[ext_resource type="AudioStream" uid="uid://cpgq77yue6q8k" path="res://Models/TerrainAssets/Sounds/footstep_water_001.ogg" id="19_ek41f"]
[ext_resource type="AudioStream" uid="uid://bft2cc51sjxib" path="res://Models/TerrainAssets/Sounds/footstep_water_002.ogg" id="20_khis8"]
[ext_resource type="AudioStream" uid="uid://bh7nfohghhjsn" path="res://Models/TerrainAssets/Sounds/footstep_water_003.ogg" id="21_b88wv"]
[ext_resource type="AudioStream" uid="uid://bxpkarxjwnllh" path="res://Models/TerrainAssets/Sounds/footstep_water_004.ogg" id="22_pgbbb"]
[ext_resource type="AudioStream" uid="uid://cs3x776x7cm5k" path="res://Models/TerrainAssets/Sounds/footstep_snow_000.ogg" id="23_331ug"]
[ext_resource type="AudioStream" uid="uid://jpl6dmmc67l" path="res://Models/TerrainAssets/Sounds/footstep_snow_001.ogg" id="24_ny14h"]
[ext_resource type="AudioStream" uid="uid://ei6gmj08uajx" path="res://Models/TerrainAssets/Sounds/footstep_snow_002.ogg" id="25_ibah8"]
[ext_resource type="AudioStream" uid="uid://dwsu0koffh3xr" path="res://Models/TerrainAssets/Sounds/footstep_snow_003.ogg" id="26_3iwfv"]
[ext_resource type="AudioStream" uid="uid://dwcrmy0der18a" path="res://Models/TerrainAssets/Sounds/footstep_snow_004.ogg" id="27_qwsg1"]

[sub_resource type="SphereShape3D" id="SphereShape3D_i3pqv"]
radius = 0.07

[node name="Player" instance=ExtResource("1_i3pqv")]
script = ExtResource("1_hqtel")
jump_sounds = [ExtResource("3_331ug")]
punch_sounds = [ExtResource("3_pgbbb"), ExtResource("4_331ug"), ExtResource("5_ny14h"), ExtResource("6_ibah8")]
footstep_sounds = {
"Grass": [ExtResource("3_606se"), ExtResource("4_u1c27"), ExtResource("5_op7ga"), ExtResource("6_q13i1"), ExtResource("7_pylmc")],
"Rock": [ExtResource("8_5tmop"), ExtResource("9_7ahtn"), ExtResource("10_7lmhl"), ExtResource("11_dx0e4"), ExtResource("12_jm5j8")],
"Sand": [ExtResource("13_7hik5"), ExtResource("14_qtqh7"), ExtResource("15_2wuci"), ExtResource("16_iruf7"), ExtResource("17_j5n4i")],
"Snow": [ExtResource("23_331ug"), ExtResource("24_ny14h"), ExtResource("25_ibah8"), ExtResource("26_3iwfv"), ExtResource("27_qwsg1")],
"Water": [ExtResource("18_hl5qd"), ExtResource("19_ek41f"), ExtResource("20_khis8"), ExtResource("21_b88wv"), ExtResource("22_pgbbb")]
}
movement_states = {
"run": ExtResource("8_pbfsw"),
"sprint": ExtResource("9_5tmop"),
"stand": ExtResource("10_7ahtn"),
"walk": ExtResource("11_7lmhl")
}
max_air_jump = 1
jump_states = {
"air_jump": ExtResource("12_dx0e4"),
"ground_jump": ExtResource("13_jm5j8")
}
max_health = 100

[node name="MovementController" type="Node" parent="." index="0" node_paths=PackedStringArray("player", "mesh_root")]
script = ExtResource("2_hqtel")
player = NodePath("..")
mesh_root = NodePath("../MeshRoot")

[node name="Skeleton3D" parent="MeshRoot/animated_monkey_man_trimmed/Armature" index="0"]
bones/0/position = Vector3(-1.93715, 2.68005, -62.2298)
bones/0/rotation = Quaternion(-0.717757, -0.00919764, -0.00332405, 0.696225)
bones/1/position = Vector3(3.92087e-08, 6.99434, -0.580394)
bones/1/rotation = Quaternion(-0.0319487, 0.000819107, 0.00279258, 0.999485)
bones/2/position = Vector3(8.028e-08, 8.1881, 1.02501e-06)
bones/2/rotation = Quaternion(0.0106655, -0.0181384, -0.000517599, 0.999778)
bones/3/position = Vector3(-2.20258e-08, 9.35785, -6.19289e-07)
bones/3/rotation = Quaternion(0.0104435, -0.0180771, -0.0002086, 0.999782)
bones/4/position = Vector3(1.3141e-07, 10.5276, -6.92809e-07)
bones/4/rotation = Quaternion(0.0318559, 0.00845425, -0.0118878, 0.999386)
bones/5/position = Vector3(-3.35276e-08, 5.07295, 0.219623)
bones/5/rotation = Quaternion(0.0262338, -0.0156892, 0.0234638, 0.999257)
bones/6/position = Vector3(-5.69969e-08, 16.3962, 0.709842)
bones/7/position = Vector3(4.06175, 9.39171, -0.103784)
bones/7/rotation = Quaternion(-0.546494, -0.433858, 0.59876, -0.39319)
bones/8/position = Vector3(5.12946e-07, 8.45856, 5.54249e-06)
bones/8/rotation = Quaternion(0.490633, 0.141274, 0.0735556, 0.856685)
bones/9/position = Vector3(-3.58994e-07, 20.6769, -2.27767e-05)
bones/9/rotation = Quaternion(-0.0212385, 0.00966915, 0.219214, 0.975398)
bones/10/position = Vector3(2.02804e-08, 17.9719, -5.74929e-06)
bones/10/rotation = Quaternion(0.107577, 0.113273, -0.0488641, 0.986514)
bones/11/position = Vector3(-2.41666, 3.34332, 1.76206e-06)
bones/11/rotation = Quaternion(-0.0347424, -0.131423, 0.121168, 0.98328)
bones/12/position = Vector3(-0.597371, 3.24571, 8.88436e-07)
bones/12/rotation = Quaternion(0.0430208, -0.0227209, -0.0969624, 0.994098)
bones/13/position = Vector3(0.010611, 2.24793, 2.36875e-06)
bones/13/rotation = Quaternion(0.0644772, 0.00862405, -0.0106721, 0.997825)
bones/14/position = Vector3(0.586757, 1.60805, -5.57206e-06)
bones/15/position = Vector3(-5.33033e-07, 5.96599, -7.84715e-07)
bones/15/rotation = Quaternion(0.189936, -0.0202407, -0.110582, 0.975339)
bones/16/position = Vector3(-0.0401235, 3.81909, 8.21827e-06)
bones/16/rotation = Quaternion(0.483965, 0.0035599, -0.0345538, 0.874398)
bones/17/position = Vector3(0.0344787, 1.87737, -9.58878e-06)
bones/17/rotation = Quaternion(-0.00782259, -0.00250486, -0.0163849, 0.999832)
bones/18/position = Vector3(0.00564547, 2.05718, 3.30753e-06)
bones/19/position = Vector3(-4.06175, 9.39014, -0.0848554)
bones/19/rotation = Quaternion(0.600739, -0.413854, 0.522624, 0.441251)
bones/20/position = Vector3(-3.80368e-07, 8.45856, 1.12048e-06)
bones/20/rotation = Quaternion(0.496976, -0.111303, -0.119162, 0.852307)
bones/21/position = Vector3(-4.83168e-07, 20.6769, 6.97872e-07)
bones/21/rotation = Quaternion(-0.0196726, -0.0103939, -0.23943, 0.970659)
bones/22/position = Vector3(-6.72013e-07, 17.9718, -3.17508e-06)
bones/22/rotation = Quaternion(0.0163433, -0.0494642, 0.0992266, 0.9937)
bones/23/position = Vector3(2.97907, 3.21409, 2.37785e-06)
bones/23/rotation = Quaternion(-0.00500857, 0.0217455, -0.0943892, 0.995285)
bones/24/position = Vector3(0.615682, 3.45143, -8.7615e-06)
bones/24/rotation = Quaternion(0.0854399, -0.0547655, 0.0334259, 0.994275)
bones/25/position = Vector3(-0.102859, 2.07161, 1.09898e-05)
bones/25/rotation = Quaternion(-0.0062021, -0.0142624, 0.00422036, 0.99987)
bones/26/position = Vector3(-0.512836, 1.28946, -4.23526e-06)
bones/27/position = Vector3(-1.88854e-07, 6.19373, 4.04219e-06)
bones/27/rotation = Quaternion(0.147671, 0.00267404, 0.0902046, 0.984911)
bones/28/position = Vector3(0.0101762, 3.44529, -1.44274e-05)
bones/28/rotation = Quaternion(0.461547, -0.00253174, 0.0385005, 0.886276)
bones/29/position = Vector3(-0.0163659, 2.01669, 1.80628e-05)
bones/29/rotation = Quaternion(-0.0367874, 0.0011689, 0.0109103, 0.999263)
bones/30/position = Vector3(0.00619192, 2.10688, -8.07888e-06)
bones/31/rotation = Quaternion(0.0217594, 0.115452, 0.991191, -0.0611368)
bones/32/position = Vector3(-1.3313e-06, 29.682, -2.74319e-07)
bones/32/rotation = Quaternion(-0.251036, -0.0804148, 0.0240681, 0.964332)
bones/33/position = Vector3(8.00859e-07, 26.5345, -1.03814e-07)
bones/33/rotation = Quaternion(0.635773, -0.0364439, -0.0390112, 0.770028)
bones/34/position = Vector3(9.89453e-07, 9.35281, -5.32109e-06)
bones/34/rotation = Quaternion(0.223176, -0.0611646, 0.013955, 0.972757)
bones/35/position = Vector3(6.09085e-07, 3.82392, 1.96695e-07)
bones/36/rotation = Quaternion(-0.105698, 0.0868079, 0.989305, 0.0506814)
bones/37/position = Vector3(8.65777e-07, 29.6777, 1.58873e-07)
bones/37/rotation = Quaternion(-0.253923, 0.0334136, -0.00699402, 0.966622)
bones/38/position = Vector3(-1.05811e-06, 26.5331, 1.509e-06)
bones/38/rotation = Quaternion(0.634147, 0.0504473, 0.0183475, 0.771347)
bones/39/position = Vector3(-6.03051e-07, 9.32334, 3.14765e-06)
bones/39/rotation = Quaternion(0.240215, 0.0611464, -0.0136365, 0.968696)
bones/40/position = Vector3(5.39422e-07, 3.81652, 5.82263e-07)

[node name="CamRoot" type="Node3D" parent="." index="3" node_paths=PackedStringArray("player")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, 0)
script = ExtResource("3_sweqy")
player = NodePath("..")

[node name="CamYaw" type="Node3D" parent="CamRoot" index="0"]

[node name="CamPitch" type="Node3D" parent="CamRoot/CamYaw" index="0"]
transform = Transform3D(1, 0, 0, 0, 0.949425, -0.313992, 0, 0.313992, 0.949425, 0, 0, 0)

[node name="SpringArm3D" type="SpringArm3D" parent="CamRoot/CamYaw/CamPitch" index="0"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
shape = SubResource("SphereShape3D_i3pqv")
spring_length = 3.0

[node name="Camera3D" type="Camera3D" parent="CamRoot/CamYaw/CamPitch/SpringArm3D" index="0"]
transform = Transform3D(1, 3.72529e-09, 0, -3.72529e-09, 1, 7.94093e-23, 0, -7.94093e-23, 1, 0, 0, 2.5)
current = true

[node name="FootstepSound" type="AudioStreamPlayer" parent="." index="5"]
bus = &"Footsteps"

[node name="JumpSound" type="AudioStreamPlayer" parent="." index="6"]
bus = &"Jumps"

[node name="PunchSound" type="AudioStreamPlayer" parent="." index="7"]
bus = &"Punches"

[connection signal="changed_aiming" from="." to="AnimationController" method="_aiming"]
[connection signal="changed_movement_direction" from="." to="MovementController" method="_on_set_movement_direction"]
[connection signal="changed_movement_state" from="." to="AnimationController" method="_on_set_movement_state"]
[connection signal="changed_movement_state" from="." to="MovementController" method="_on_set_movement_state"]
[connection signal="changed_movement_state" from="." to="CamRoot" method="_on_set_movement_state"]
[connection signal="pressed_jump" from="." to="MovementController" method="_jump"]
[connection signal="punch" from="." to="AnimationController" method="_punch"]
[connection signal="set_cam_rotation" from="CamRoot" to="MovementController" method="_on_set_cam_rotation"]

[editable path="MeshRoot/animated_monkey_man_trimmed"]
