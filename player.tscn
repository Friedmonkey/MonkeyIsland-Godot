[gd_scene load_steps=37 format=3 uid="uid://drenu2srr1q61"]

[ext_resource type="Script" uid="uid://uby0stqpkrd4" path="res://player.gd" id="1_hqtel"]
[ext_resource type="PackedScene" uid="uid://dxnwbn3vqjhme" path="res://character.tscn" id="1_i3pqv"]
[ext_resource type="Script" uid="uid://dbwpdvt46lvhx" path="res://Player/movement_controller.gd" id="2_hqtel"]
[ext_resource type="AudioStream" uid="uid://dsqa02vl5r3pe" path="res://Models/TerrainAssets/Sounds/footstep_grass_000.ogg" id="3_606se"]
[ext_resource type="Script" uid="uid://bsp1f3vpcgvsx" path="res://Player/camera_controller.gd" id="3_sweqy"]
[ext_resource type="AudioStream" uid="uid://di0grnb3gdfs7" path="res://Models/TerrainAssets/Sounds/footstep_grass_001.ogg" id="4_u1c27"]
[ext_resource type="AudioStream" uid="uid://dpxmbuwa203s3" path="res://Models/TerrainAssets/Sounds/footstep_grass_002.ogg" id="5_op7ga"]
[ext_resource type="AudioStream" uid="uid://by1tulnhl3cu8" path="res://Models/TerrainAssets/Sounds/footstep_grass_003.ogg" id="6_q13i1"]
[ext_resource type="AudioStream" uid="uid://0degotd2qq62" path="res://Models/TerrainAssets/Sounds/footstep_grass_004.ogg" id="7_pylmc"]
[ext_resource type="AudioStream" uid="uid://blcrp4yiuqsbm" path="res://Models/TerrainAssets/Sounds/impactMining_000.ogg" id="8_5tmop"]
[ext_resource type="Resource" uid="uid://ilxft0txduu2" path="res://Player/MovementStates/run.tres" id="8_pbfsw"]
[ext_resource type="Resource" uid="uid://orrjibpllpgs" path="res://Player/MovementStates/sprint.tres" id="9_5tmop"]
[ext_resource type="AudioStream" uid="uid://bkkks80f44t4c" path="res://Models/TerrainAssets/Sounds/impactMining_001.ogg" id="9_7ahtn"]
[ext_resource type="Resource" uid="uid://fvq8xi66kxov" path="res://Player/MovementStates/stand.tres" id="10_7ahtn"]
[ext_resource type="AudioStream" uid="uid://b5wmj52a4el6h" path="res://Models/TerrainAssets/Sounds/impactMining_002.ogg" id="10_7lmhl"]
[ext_resource type="Resource" uid="uid://c0aaanr84ak8r" path="res://Player/MovementStates/walk.tres" id="11_7lmhl"]
[ext_resource type="AudioStream" uid="uid://7spdhdgjodck" path="res://Models/TerrainAssets/Sounds/impactMining_003.ogg" id="11_dx0e4"]
[ext_resource type="Resource" uid="uid://c1ivhxsl0ari0" path="res://Player/JumpStates/air_jump.tres" id="12_dx0e4"]
[ext_resource type="AudioStream" uid="uid://bddt17bxj83ky" path="res://Models/TerrainAssets/Sounds/impactMining_004.ogg" id="12_jm5j8"]
[ext_resource type="AudioStream" uid="uid://c6pb1benvb1qh" path="res://Models/TerrainAssets/Sounds/footstep_carpet_000.ogg" id="13_7hik5"]
[ext_resource type="Resource" uid="uid://s4tjcrrseqcn" path="res://Player/JumpStates/ground_jump.tres" id="13_jm5j8"]
[ext_resource type="AudioStream" uid="uid://btjf1o37guvm7" path="res://Models/TerrainAssets/Sounds/footstep_carpet_001.ogg" id="14_qtqh7"]
[ext_resource type="AudioStream" uid="uid://dhdkga2768fne" path="res://Models/TerrainAssets/Sounds/footstep_carpet_002.ogg" id="15_2wuci"]
[ext_resource type="AudioStream" uid="uid://dtqaa5h1iamjq" path="res://Models/TerrainAssets/Sounds/footstep_carpet_003.ogg" id="16_iruf7"]
[ext_resource type="AudioStream" uid="uid://c4n2d6efnm4qw" path="res://Models/TerrainAssets/Sounds/footstep_carpet_004.ogg" id="17_j5n4i"]
[ext_resource type="AudioStream" uid="uid://cgbec3thoh4ga" path="res://Models/TerrainAssets/Sounds/footstep_water_000.ogg" id="18_hl5qd"]
[ext_resource type="AudioStream" uid="uid://cpgq77yue6q8k" path="res://Models/TerrainAssets/Sounds/footstep_water_001.ogg" id="19_ek41f"]
[ext_resource type="AudioStream" uid="uid://bft2cc51sjxib" path="res://Models/TerrainAssets/Sounds/footstep_water_002.ogg" id="20_khis8"]
[ext_resource type="AudioStream" uid="uid://bh7nfohghhjsn" path="res://Models/TerrainAssets/Sounds/footstep_water_003.ogg" id="21_b88wv"]
[ext_resource type="AudioStream" uid="uid://bxpkarxjwnllh" path="res://Models/TerrainAssets/Sounds/footstep_water_004.ogg" id="22_pgbbb"]
[ext_resource type="AudioStream" uid="uid://cs3x776x7cm5k" path="res://Models/TerrainAssets/Sounds/footstep_snow_000.ogg" id="23_331ug"]
[ext_resource type="AudioStream" uid="uid://jpl6dmmc67l" path="res://Models/TerrainAssets/Sounds/footstep_snow_001.ogg" id="24_ny14h"]
[ext_resource type="AudioStream" uid="uid://ei6gmj08uajx" path="res://Models/TerrainAssets/Sounds/footstep_snow_002.ogg" id="25_ibah8"]
[ext_resource type="AudioStream" uid="uid://dwsu0koffh3xr" path="res://Models/TerrainAssets/Sounds/footstep_snow_003.ogg" id="26_3iwfv"]
[ext_resource type="AudioStream" uid="uid://dwcrmy0der18a" path="res://Models/TerrainAssets/Sounds/footstep_snow_004.ogg" id="27_qwsg1"]

[sub_resource type="SphereShape3D" id="SphereShape3D_i3pqv"]
radius = 0.07

[node name="Player" instance=ExtResource("1_i3pqv")]
script = ExtResource("1_hqtel")
footstep_sounds = {
"Grass": [ExtResource("3_606se"), ExtResource("4_u1c27"), ExtResource("5_op7ga"), ExtResource("6_q13i1"), ExtResource("7_pylmc")],
"Rock": [ExtResource("8_5tmop"), ExtResource("9_7ahtn"), ExtResource("10_7lmhl"), ExtResource("11_dx0e4"), ExtResource("12_jm5j8")],
"Sand": [ExtResource("13_7hik5"), ExtResource("14_qtqh7"), ExtResource("15_2wuci"), ExtResource("16_iruf7"), ExtResource("17_j5n4i")],
"Snow": [ExtResource("23_331ug"), ExtResource("24_ny14h"), ExtResource("25_ibah8"), ExtResource("26_3iwfv"), ExtResource("27_qwsg1")],
"Water": [ExtResource("18_hl5qd"), ExtResource("19_ek41f"), ExtResource("20_khis8"), ExtResource("21_b88wv"), ExtResource("22_pgbbb")]
}
movement_states = {
"run": ExtResource("8_pbfsw"),
"sprint": ExtResource("9_5tmop"),
"stand": ExtResource("10_7ahtn"),
"walk": ExtResource("11_7lmhl")
}
max_air_jump = 1
jump_states = {
"air_jump": ExtResource("12_dx0e4"),
"ground_jump": ExtResource("13_jm5j8")
}

[node name="MovementController" type="Node" parent="." index="0" node_paths=PackedStringArray("player", "mesh_root")]
script = ExtResource("2_hqtel")
player = NodePath("..")
mesh_root = NodePath("../MeshRoot")

[node name="Skeleton3D" parent="MeshRoot/animated_monkey_man_trimmed/Armature" index="0"]
bones/0/position = Vector3(1.51182, 2.09572, -62.8201)
bones/0/rotation = Quaternion(-0.711832, -0.0263322, 0.00564407, 0.701833)
bones/1/rotation = Quaternion(-0.0322613, -0.00293519, 0.00196543, 0.999473)
bones/2/rotation = Quaternion(0.0106441, -0.0229308, 0.0028526, 0.999676)
bones/3/rotation = Quaternion(0.0105342, -0.0229315, 0.00313487, 0.999677)
bones/4/rotation = Quaternion(0.0208828, 0.00984259, -0.00273452, 0.99973)
bones/5/rotation = Quaternion(0.0154934, 0.000862968, 0.0322303, 0.99936)
bones/7/rotation = Quaternion(-0.533655, -0.458887, 0.56264, -0.433671)
bones/8/rotation = Quaternion(0.514667, 0.105926, 0.0737946, 0.847615)
bones/9/rotation = Quaternion(-0.0176586, 0.0111736, 0.255362, 0.96662)
bones/10/rotation = Quaternion(0.0964532, 0.129095, -0.0409554, 0.98608)
bones/11/rotation = Quaternion(-0.029943, -0.133453, 0.136786, 0.981113)
bones/12/rotation = Quaternion(0.0475148, 0.0234147, -0.144926, 0.988024)
bones/13/rotation = Quaternion(0.0687891, 0.00811572, -0.029514, 0.997162)
bones/15/rotation = Quaternion(0.216011, -0.0220994, -0.114678, 0.969381)
bones/16/rotation = Quaternion(0.487321, 0.00361056, -0.0350446, 0.872512)
bones/17/rotation = Quaternion(-0.0223221, -0.00221201, -0.014469, 0.999644)
bones/19/rotation = Quaternion(0.568794, -0.433587, 0.546422, 0.435774)
bones/20/rotation = Quaternion(0.496767, -0.144265, -0.105103, 0.849331)
bones/21/rotation = Quaternion(-0.0212584, -0.00971262, -0.22307, 0.974522)
bones/22/rotation = Quaternion(0.00219312, -0.070414, 0.107667, 0.991688)
bones/23/rotation = Quaternion(-0.0147428, 0.000948162, -0.0631645, 0.997894)
bones/24/rotation = Quaternion(0.077548, -0.024248, 0.0120267, 0.996621)
bones/25/rotation = Quaternion(-0.00914279, -0.0163609, -0.0134492, 0.999734)
bones/27/rotation = Quaternion(0.178383, 0.00279481, 0.0891196, 0.979913)
bones/28/rotation = Quaternion(0.415411, -0.00216456, 0.0329183, 0.909035)
bones/29/rotation = Quaternion(-0.0735628, 0.000718737, 0.00670936, 0.997268)
bones/31/rotation = Quaternion(0.0339695, 0.0776547, 0.995772, -0.0354202)
bones/32/rotation = Quaternion(-0.241288, -0.0735686, 0.0128567, 0.967575)
bones/33/rotation = Quaternion(0.638305, -0.0397933, 0.000498798, 0.768755)
bones/34/rotation = Quaternion(0.24052, -0.0610684, 0.0135422, 0.968626)
bones/36/rotation = Quaternion(-0.122436, 0.11399, 0.983423, 0.0699697)
bones/37/rotation = Quaternion(-0.172829, 0.0303886, -0.00834554, 0.984448)
bones/38/rotation = Quaternion(0.575053, 0.0249504, 0.0436244, 0.816571)
bones/39/rotation = Quaternion(0.223644, 0.0612385, -0.014028, 0.972644)

[node name="CamRoot" type="Node3D" parent="." index="3" node_paths=PackedStringArray("player")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, 0)
script = ExtResource("3_sweqy")
player = NodePath("..")

[node name="CamYaw" type="Node3D" parent="CamRoot" index="0"]

[node name="CamPitch" type="Node3D" parent="CamRoot/CamYaw" index="0"]
transform = Transform3D(1, 0, 0, 0, 0.949425, -0.313992, 0, 0.313992, 0.949425, 0, 0, 0)

[node name="SpringArm3D" type="SpringArm3D" parent="CamRoot/CamYaw/CamPitch" index="0"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
shape = SubResource("SphereShape3D_i3pqv")
spring_length = 3.0

[node name="Camera3D" type="Camera3D" parent="CamRoot/CamYaw/CamPitch/SpringArm3D" index="0"]
transform = Transform3D(1, 3.72529e-09, 0, -3.72529e-09, 1, 7.94093e-23, 0, -7.94093e-23, 1, 0, 0, 2.5)
current = true

[connection signal="changed_aiming" from="." to="AnimationController" method="_aiming"]
[connection signal="changed_movement_direction" from="." to="MovementController" method="_on_set_movement_direction"]
[connection signal="changed_movement_state" from="." to="AnimationController" method="_on_set_movement_state"]
[connection signal="changed_movement_state" from="." to="MovementController" method="_on_set_movement_state"]
[connection signal="changed_movement_state" from="." to="CamRoot" method="_on_set_movement_state"]
[connection signal="pressed_jump" from="." to="MovementController" method="_jump"]
[connection signal="punch" from="." to="AnimationController" method="_punch"]
[connection signal="set_cam_rotation" from="CamRoot" to="MovementController" method="_on_set_cam_rotation"]

[editable path="MeshRoot/animated_monkey_man_trimmed"]
