[gd_scene load_steps=42 format=3 uid="uid://drenu2srr1q61"]

[ext_resource type="Script" uid="uid://uby0stqpkrd4" path="res://Character/player.gd" id="1_hqtel"]
[ext_resource type="PackedScene" uid="uid://dxnwbn3vqjhme" path="res://Character/character.tscn" id="1_i3pqv"]
[ext_resource type="Script" uid="uid://dbwpdvt46lvhx" path="res://Player/movement_controller.gd" id="2_hqtel"]
[ext_resource type="AudioStream" uid="uid://4uejpyfgvbvb" path="res://Player/Sounds/jump_000.ogg" id="3_331ug"]
[ext_resource type="AudioStream" uid="uid://dsqa02vl5r3pe" path="res://Models/TerrainAssets/Sounds/footstep_grass_000.ogg" id="3_606se"]
[ext_resource type="AudioStream" uid="uid://bpuiheyhw57nl" path="res://Player/Sounds/punch_000.ogg" id="3_pgbbb"]
[ext_resource type="Script" uid="uid://bsp1f3vpcgvsx" path="res://Player/camera_controller.gd" id="3_sweqy"]
[ext_resource type="AudioStream" uid="uid://cnyelwh785m4" path="res://Player/Sounds/punch_001.ogg" id="4_331ug"]
[ext_resource type="AudioStream" uid="uid://di0grnb3gdfs7" path="res://Models/TerrainAssets/Sounds/footstep_grass_001.ogg" id="4_u1c27"]
[ext_resource type="AudioStream" uid="uid://cmjbmy82877rv" path="res://Player/Sounds/punch_002.ogg" id="5_ny14h"]
[ext_resource type="AudioStream" uid="uid://dpxmbuwa203s3" path="res://Models/TerrainAssets/Sounds/footstep_grass_002.ogg" id="5_op7ga"]
[ext_resource type="AudioStream" uid="uid://ba7nrhubnfdlp" path="res://Player/Sounds/punch_003.ogg" id="6_ibah8"]
[ext_resource type="AudioStream" uid="uid://by1tulnhl3cu8" path="res://Models/TerrainAssets/Sounds/footstep_grass_003.ogg" id="6_q13i1"]
[ext_resource type="AudioStream" uid="uid://0degotd2qq62" path="res://Models/TerrainAssets/Sounds/footstep_grass_004.ogg" id="7_pylmc"]
[ext_resource type="AudioStream" uid="uid://blcrp4yiuqsbm" path="res://Models/TerrainAssets/Sounds/impactMining_000.ogg" id="8_5tmop"]
[ext_resource type="Resource" uid="uid://ilxft0txduu2" path="res://Player/MovementStates/run.tres" id="8_pbfsw"]
[ext_resource type="Resource" uid="uid://orrjibpllpgs" path="res://Player/MovementStates/sprint.tres" id="9_5tmop"]
[ext_resource type="AudioStream" uid="uid://bkkks80f44t4c" path="res://Models/TerrainAssets/Sounds/impactMining_001.ogg" id="9_7ahtn"]
[ext_resource type="Resource" uid="uid://fvq8xi66kxov" path="res://Player/MovementStates/stand.tres" id="10_7ahtn"]
[ext_resource type="AudioStream" uid="uid://b5wmj52a4el6h" path="res://Models/TerrainAssets/Sounds/impactMining_002.ogg" id="10_7lmhl"]
[ext_resource type="Resource" uid="uid://c0aaanr84ak8r" path="res://Player/MovementStates/walk.tres" id="11_7lmhl"]
[ext_resource type="AudioStream" uid="uid://7spdhdgjodck" path="res://Models/TerrainAssets/Sounds/impactMining_003.ogg" id="11_dx0e4"]
[ext_resource type="Resource" uid="uid://c1ivhxsl0ari0" path="res://Player/JumpStates/air_jump.tres" id="12_dx0e4"]
[ext_resource type="AudioStream" uid="uid://bddt17bxj83ky" path="res://Models/TerrainAssets/Sounds/impactMining_004.ogg" id="12_jm5j8"]
[ext_resource type="AudioStream" uid="uid://c6pb1benvb1qh" path="res://Models/TerrainAssets/Sounds/footstep_carpet_000.ogg" id="13_7hik5"]
[ext_resource type="Resource" uid="uid://s4tjcrrseqcn" path="res://Player/JumpStates/ground_jump.tres" id="13_jm5j8"]
[ext_resource type="AudioStream" uid="uid://btjf1o37guvm7" path="res://Models/TerrainAssets/Sounds/footstep_carpet_001.ogg" id="14_qtqh7"]
[ext_resource type="AudioStream" uid="uid://dhdkga2768fne" path="res://Models/TerrainAssets/Sounds/footstep_carpet_002.ogg" id="15_2wuci"]
[ext_resource type="AudioStream" uid="uid://dtqaa5h1iamjq" path="res://Models/TerrainAssets/Sounds/footstep_carpet_003.ogg" id="16_iruf7"]
[ext_resource type="AudioStream" uid="uid://c4n2d6efnm4qw" path="res://Models/TerrainAssets/Sounds/footstep_carpet_004.ogg" id="17_j5n4i"]
[ext_resource type="AudioStream" uid="uid://cgbec3thoh4ga" path="res://Models/TerrainAssets/Sounds/footstep_water_000.ogg" id="18_hl5qd"]
[ext_resource type="AudioStream" uid="uid://cpgq77yue6q8k" path="res://Models/TerrainAssets/Sounds/footstep_water_001.ogg" id="19_ek41f"]
[ext_resource type="AudioStream" uid="uid://bft2cc51sjxib" path="res://Models/TerrainAssets/Sounds/footstep_water_002.ogg" id="20_khis8"]
[ext_resource type="AudioStream" uid="uid://bh7nfohghhjsn" path="res://Models/TerrainAssets/Sounds/footstep_water_003.ogg" id="21_b88wv"]
[ext_resource type="AudioStream" uid="uid://bxpkarxjwnllh" path="res://Models/TerrainAssets/Sounds/footstep_water_004.ogg" id="22_pgbbb"]
[ext_resource type="AudioStream" uid="uid://cs3x776x7cm5k" path="res://Models/TerrainAssets/Sounds/footstep_snow_000.ogg" id="23_331ug"]
[ext_resource type="AudioStream" uid="uid://jpl6dmmc67l" path="res://Models/TerrainAssets/Sounds/footstep_snow_001.ogg" id="24_ny14h"]
[ext_resource type="AudioStream" uid="uid://ei6gmj08uajx" path="res://Models/TerrainAssets/Sounds/footstep_snow_002.ogg" id="25_ibah8"]
[ext_resource type="AudioStream" uid="uid://dwsu0koffh3xr" path="res://Models/TerrainAssets/Sounds/footstep_snow_003.ogg" id="26_3iwfv"]
[ext_resource type="AudioStream" uid="uid://dwcrmy0der18a" path="res://Models/TerrainAssets/Sounds/footstep_snow_004.ogg" id="27_qwsg1"]

[sub_resource type="SphereShape3D" id="SphereShape3D_i3pqv"]
radius = 0.07

[node name="Player" instance=ExtResource("1_i3pqv")]
script = ExtResource("1_hqtel")
jump_sounds = [ExtResource("3_331ug")]
punch_sounds = [ExtResource("3_pgbbb"), ExtResource("4_331ug"), ExtResource("5_ny14h"), ExtResource("6_ibah8")]
footstep_sounds = {
"Grass": [ExtResource("3_606se"), ExtResource("4_u1c27"), ExtResource("5_op7ga"), ExtResource("6_q13i1"), ExtResource("7_pylmc")],
"Rock": [ExtResource("8_5tmop"), ExtResource("9_7ahtn"), ExtResource("10_7lmhl"), ExtResource("11_dx0e4"), ExtResource("12_jm5j8")],
"Sand": [ExtResource("13_7hik5"), ExtResource("14_qtqh7"), ExtResource("15_2wuci"), ExtResource("16_iruf7"), ExtResource("17_j5n4i")],
"Snow": [ExtResource("23_331ug"), ExtResource("24_ny14h"), ExtResource("25_ibah8"), ExtResource("26_3iwfv"), ExtResource("27_qwsg1")],
"Water": [ExtResource("18_hl5qd"), ExtResource("19_ek41f"), ExtResource("20_khis8"), ExtResource("21_b88wv"), ExtResource("22_pgbbb")]
}
movement_states = {
"run": ExtResource("8_pbfsw"),
"sprint": ExtResource("9_5tmop"),
"stand": ExtResource("10_7ahtn"),
"walk": ExtResource("11_7lmhl")
}
max_air_jump = 1
jump_states = {
"air_jump": ExtResource("12_dx0e4"),
"ground_jump": ExtResource("13_jm5j8")
}

[node name="MovementController" type="Node" parent="." index="0" node_paths=PackedStringArray("player", "mesh_root")]
script = ExtResource("2_hqtel")
player = NodePath("..")
mesh_root = NodePath("../MeshRoot")

[node name="AnimationTree" parent="MeshRoot" index="0"]
parameters/PunchLeft/internal_active = 0.0181571
parameters/PunchLeft/request = 0.027248
parameters/on_floor_blend/blend_amount = 9.96667
parameters/punch_transition/current_state = ""
parameters/punch_transition/current_index = -1

[node name="Skeleton3D" parent="MeshRoot/animated_monkey_man_trimmed/Armature" index="0"]
bones/0/position = Vector3(-3.49261, 13.0657, -62.0128)
bones/0/rotation = Quaternion(-0.108054, -0.852694, 0.477051, 0.183464)
bones/1/position = Vector3(5.67455e-08, 6.99436, -0.580399)
bones/1/rotation = Quaternion(-0.687272, -0.14933, 0.077291, -0.706671)
bones/2/position = Vector3(-6.68225e-06, 8.18815, -1.62396e-05)
bones/2/rotation = Quaternion(-0.549011, -0.340799, 0.242175, 0.723736)
bones/3/position = Vector3(-3.96071e-06, 9.35797, -2.16715e-05)
bones/3/rotation = Quaternion(-0.550121, -0.337111, 0.246125, 0.723288)
bones/4/position = Vector3(1.94761e-05, 10.5276, 7.8932e-05)
bones/4/rotation = Quaternion(0.371271, 0.908549, 0.117124, 0.15159)
bones/5/position = Vector3(3.4145e-05, 5.0729, 0.219651)
bones/5/rotation = Quaternion(-0.10976, -0.286735, 0.0399689, -0.950862)
bones/6/position = Vector3(1.70003e-05, 16.3961, 0.709815)
bones/7/position = Vector3(4.06176, 9.39158, -0.103759)
bones/7/rotation = Quaternion(-0.517229, -0.412404, 0.0511475, -0.748185)
bones/8/position = Vector3(2.89061e-05, 8.45854, 1.68344e-05)
bones/8/rotation = Quaternion(-0.851804, -0.159339, -0.0760143, -0.493217)
bones/9/position = Vector3(-4.04665e-06, 20.6769, 9.80489e-05)
bones/9/rotation = Quaternion(-0.0777214, 0.0200299, 0.890642, -0.447565)
bones/10/position = Vector3(8.95738e-06, 17.972, -9.56894e-05)
bones/10/rotation = Quaternion(0.0924463, -0.887372, 0.258703, -0.370267)
bones/11/position = Vector3(-2.41668, 3.34329, -2.27353e-05)
bones/11/rotation = Quaternion(-0.756378, 0.145105, 0.56224, -0.301202)
bones/12/position = Vector3(-0.597388, 3.24574, 1.29852e-05)
bones/12/rotation = Quaternion(0.47857, -0.0413199, 0.74481, -0.463164)
bones/13/position = Vector3(0.0105721, 2.24792, 2.63681e-05)
bones/13/rotation = Quaternion(-0.12074, 0.0502034, -0.293378, -0.947012)
bones/14/position = Vector3(0.586776, 1.60804, 3.70286e-05)
bones/15/position = Vector3(-1.15442e-05, 5.96597, -4.72758e-05)
bones/15/rotation = Quaternion(0.969101, -0.0882611, -0.175154, 0.149581)
bones/16/position = Vector3(-0.0401354, 3.81916, -1.92037e-05)
bones/16/rotation = Quaternion(0.834409, 0.00926132, -0.0938374, 0.54302)
bones/17/position = Vector3(0.0345364, 1.87735, 8.34817e-06)
bones/17/rotation = Quaternion(0.976785, -0.0634623, -0.179678, 0.0978771)
bones/18/position = Vector3(0.00568643, 2.05726, 8.539e-05)
bones/19/position = Vector3(-4.06173, 9.39004, -0.0848372)
bones/19/rotation = Quaternion(0.517501, -0.271768, 0.800582, 0.131922)
bones/20/position = Vector3(-1.2456e-05, 8.45857, -0.000103627)
bones/20/rotation = Quaternion(-0.31053, -0.512997, 0.597905, -0.531898)
bones/21/position = Vector3(2.13463e-05, 20.6769, 5.41195e-05)
bones/21/rotation = Quaternion(-0.0921391, 0.0413095, 0.973791, 0.203803)
bones/22/position = Vector3(2.31044e-05, 17.9717, -1.4994e-05)
bones/22/rotation = Quaternion(-0.82212, -0.024865, 0.0697991, 0.564472)
bones/23/position = Vector3(2.97908, 3.2141, 0.000198934)
bones/23/rotation = Quaternion(-0.172816, 0.170693, 0.396343, 0.885387)
bones/24/position = Vector3(0.615684, 3.45143, -0.000118536)
bones/24/rotation = Quaternion(-0.0395908, 0.0469306, -0.763581, -0.642787)
bones/25/position = Vector3(-0.102838, 2.07163, -4.13315e-05)
bones/25/rotation = Quaternion(0.186343, 0.0537839, -0.337602, 0.921091)
bones/26/position = Vector3(-0.512858, 1.28947, 0.000280487)
bones/27/position = Vector3(-1.00741e-05, 6.19367, 0.000112222)
bones/27/rotation = Quaternion(0.962729, -0.0362484, 0.266878, 0.0247806)
bones/28/position = Vector3(0.0101973, 3.44531, -0.000165417)
bones/28/rotation = Quaternion(-0.674004, 0.014221, -0.0809337, 0.734143)
bones/29/position = Vector3(-0.0163786, 2.01666, -8.12962e-05)
bones/29/rotation = Quaternion(-0.817102, 0.0638181, -0.492231, -0.293223)
bones/30/position = Vector3(0.00617263, 2.10692, 2.98927e-05)
bones/31/position = Vector3(5.81758, -3.89315, -1.2225)
bones/31/rotation = Quaternion(0.02701, -0.377899, -0.919674, 0.10326)
bones/32/position = Vector3(-2.43776e-05, 29.682, -3.16371e-05)
bones/32/rotation = Quaternion(-0.618214, -0.0845339, 0.00685472, -0.781421)
bones/33/position = Vector3(1.02014e-05, 26.5345, -2.60201e-06)
bones/33/rotation = Quaternion(-0.335022, 0.472889, -0.280982, -0.764974)
bones/34/position = Vector3(-2.14441e-06, 9.3528, -7.19346e-06)
bones/34/rotation = Quaternion(0.186819, -0.061305, 0.0148022, 0.980368)
bones/35/position = Vector3(2.7803e-06, 3.82392, -1.52758e-05)
bones/36/position = Vector3(-5.81757, -3.89315, -1.21035)
bones/36/rotation = Quaternion(-0.663421, 0.221877, -0.625775, -0.345033)
bones/37/position = Vector3(1.13742e-05, 29.6777, -2.52682e-05)
bones/37/rotation = Quaternion(0.86747, -0.0286471, 0.0924333, 0.487987)
bones/38/position = Vector3(-5.17162e-06, 26.5331, 1.66224e-05)
bones/38/rotation = Quaternion(0.863681, 0.00655376, 0.369829, -0.342402)
bones/39/position = Vector3(-1.22865e-05, 9.32336, -6.30951e-06)
bones/39/rotation = Quaternion(0.238904, 0.061155, -0.0136707, 0.969019)
bones/40/position = Vector3(1.40122e-06, 3.81651, 2.19705e-05)

[node name="CamRoot" type="Node3D" parent="." index="3" node_paths=PackedStringArray("player")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, 0)
script = ExtResource("3_sweqy")
player = NodePath("..")

[node name="CamYaw" type="Node3D" parent="CamRoot" index="0"]

[node name="CamPitch" type="Node3D" parent="CamRoot/CamYaw" index="0"]
transform = Transform3D(1, 0, 0, 0, 0.949425, -0.313992, 0, 0.313992, 0.949425, 0, 0, 0)

[node name="SpringArm3D" type="SpringArm3D" parent="CamRoot/CamYaw/CamPitch" index="0"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
shape = SubResource("SphereShape3D_i3pqv")
spring_length = 3.0

[node name="Camera3D" type="Camera3D" parent="CamRoot/CamYaw/CamPitch/SpringArm3D" index="0"]
transform = Transform3D(1, 3.72529e-09, 0, -3.72529e-09, 1, 7.94093e-23, 0, -7.94093e-23, 1, 0, 0, 2.5)
current = true

[node name="FootstepSound" type="AudioStreamPlayer" parent="." index="5"]
bus = &"Footsteps"

[node name="JumpSound" type="AudioStreamPlayer" parent="." index="6"]
bus = &"Jumps"

[node name="PunchSound" type="AudioStreamPlayer" parent="." index="7"]
bus = &"Punches"

[connection signal="changed_aiming" from="." to="AnimationController" method="_aiming"]
[connection signal="changed_movement_direction" from="." to="MovementController" method="_on_set_movement_direction"]
[connection signal="changed_movement_state" from="." to="AnimationController" method="_on_set_movement_state"]
[connection signal="changed_movement_state" from="." to="MovementController" method="_on_set_movement_state"]
[connection signal="changed_movement_state" from="." to="CamRoot" method="_on_set_movement_state"]
[connection signal="pressed_jump" from="." to="MovementController" method="_jump"]
[connection signal="punch" from="." to="AnimationController" method="_punch"]
[connection signal="set_cam_rotation" from="CamRoot" to="MovementController" method="_on_set_cam_rotation"]

[editable path="MeshRoot/animated_monkey_man_trimmed"]
